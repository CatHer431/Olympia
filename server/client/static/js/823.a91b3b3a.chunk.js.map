{"version":3,"file":"static/js/823.a91b3b3a.chunk.js","mappings":"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","sources":["app/components/common/Breadcrumbs/Breadcrumbs.tsx","app/components/common/Breadcrumbs/index.ts","app/components/common/ImageSlider/ImageSlider.tsx","app/components/common/ImageSlider/index.ts","app/components/common/ButtonLike/index.ts","app/components/common/ButtonLike/ButtonLike.tsx","app/components/ui/reviews/ReviewLikes/index.ts","app/components/ui/reviews/ReviewLikes/ReviewLikes.tsx","app/components/ui/reviews/Review/index.ts","app/components/ui/reviews/Review/Review.tsx","app/components/ui/reviews/ReviewsList/ReviewsList.tsx","app/components/ui/reviews/ReviewsList/index.ts","app/components/common/Badge/index.ts","app/components/common/Badge/Badge.tsx","app/components/ui/rooms/RoomCard/RoomCard.tsx","app/components/ui/rooms/RoomCard/index.ts","app/components/ui/rooms/RoomsList/RoomsList.tsx","app/components/common/ButtonFavorite/ButtonFavorite.tsx","app/components/ui/reviews/Reviews/index.ts","app/components/ui/reviews/Reviews/Reviews.tsx","app/components/ui/RoomPageCards/RoomCancelCard.tsx","app/components/ui/RoomPageCards/RoomInfoCard.tsx","app/components/ui/RoomPageCards/RoomReviewsCard.tsx","app/components/ui/RoomPageCards/RoomRulesCard.tsx","app/components/pages/RoomPage/index.ts","app/components/pages/RoomPage/RoomPage.tsx","app/hooks/useSearch.tsx","app/hooks/useDebounce.tsx","app/components/common/Pagination/index.ts","app/components/common/Pagination/Pagination.tsx","app/components/common/Searchbar/index.ts","app/components/common/Searchbar/Searchbar.tsx","app/components/ui/rooms/RoomsDisplayCount/index.ts","app/components/ui/rooms/RoomsDisplayCount/RoomsDisplayCount.tsx","app/components/ui/rooms/RoomsFilters/RoomsFiltersItem/RoomsFiltersItem.tsx","app/components/ui/rooms/RoomsFilters/RoomsFiltersItem/index.ts","app/components/ui/rooms/RoomsFilters/RoomsFiltersList/RoomsFiltersList.tsx","app/components/ui/rooms/RoomsFilters/RoomsFilters.tsx","app/components/ui/rooms/RoomsFilters/index.ts","app/components/ui/rooms/RoomsList/index.ts","app/components/ui/rooms/RoomCard/RoomCardSkeleton.tsx","app/components/ui/rooms/RoomsList/RoomsListSkeleton.tsx","app/components/ui/rooms/RoomsSort/RoomsSort.tsx","app/components/ui/rooms/RoomsSort/index.ts","app/components/pages/RoomsPage/RoomsPage.tsx","app/components/pages/RoomsPage/index.ts","app/layouts/rooms.tsx"],"sourcesContent":["import { Breadcrumbs as MuiBreadcrumbs, Link } from '@mui/material';\r\nimport React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport withBreadcrumbs, { BreadcrumbsRoute } from 'react-router-breadcrumbs-hoc';\r\nimport { Link as RouterLink, LinkProps, Route, RouteComponentProps } from 'react-router-dom';\r\nimport { getRoomById } from '../../../store/rooms';\r\nimport { getUserById } from '../../../store/users';\r\n\r\ntype RouteParams = {\r\n  userId: string;\r\n  roomId: string;\r\n  route: string;\r\n};\r\n\r\nconst UserBreadcrumb: React.FC<RouteComponentProps<RouteParams>> = props => {\r\n  const user = useSelector(getUserById(props.match.params.userId));\r\n  if (user) {\r\n    return <span>{`${user?.firstName} ${user?.secondName}`}</span>;\r\n  }\r\n  return <span>Пользователь не найден</span>;\r\n};\r\n\r\nconst RoomBreadcrumb: React.FC<RouteComponentProps<RouteParams>> = props => {\r\n  const room = useSelector(getRoomById(props.match.params.roomId));\r\n  return <span>Номер №{room?.roomNumber}</span>;\r\n};\r\n\r\nconst UserRouteBreadcrumb: React.FC<RouteComponentProps<RouteParams>> = props => {\r\n  const route = props.match.params.route;\r\n\r\n  let breadcrumbText;\r\n  switch (route) {\r\n    case 'booking':\r\n      breadcrumbText = 'Мои бронирования';\r\n      break;\r\n    case 'dashboard':\r\n      breadcrumbText = 'Панель администратора';\r\n      break;\r\n    case 'likes':\r\n      breadcrumbText = 'Понравилось';\r\n      break;\r\n    case 'favorites':\r\n      breadcrumbText = 'Избранное';\r\n      break;\r\n    case 'edit':\r\n      breadcrumbText = 'Редактировать профиль';\r\n      break;\r\n\r\n    default:\r\n      breadcrumbText = '';\r\n      break;\r\n  }\r\n  return <span>{breadcrumbText}</span>;\r\n};\r\n\r\nconst routeConfig = [\r\n  {\r\n    path: '/',\r\n    breadcrumb: 'Главная',\r\n  },\r\n  {\r\n    path: '/rooms',\r\n    breadcrumb: 'Доступные номера',\r\n  },\r\n  {\r\n    path: '/rooms/:roomId?',\r\n    breadcrumb: RoomBreadcrumb,\r\n  },\r\n  {\r\n    path: '/profile',\r\n    breadcrumb: 'Профиль',\r\n  },\r\n  {\r\n    path: '/profile/:userId?',\r\n    breadcrumb: UserBreadcrumb,\r\n  },\r\n  {\r\n    path: '/profile/:userId?/:route?',\r\n    breadcrumb: UserRouteBreadcrumb,\r\n  },\r\n];\r\n\r\nconst LinkRouter = (props: LinkProps) => (\r\n  <Link {...props} className='breadcrumbs-item' underline='hover' component={RouterLink} />\r\n);\r\n\r\ntype BreadcrumbsPropsType = {\r\n  breadcrumbs: any;\r\n};\r\n\r\nconst Breadcrumbs: React.FC<BreadcrumbsPropsType> = ({ breadcrumbs }) => {\r\n  return (\r\n    <div className='breadcrumbs'>\r\n      <Route>\r\n        {() => {\r\n          return (\r\n            <MuiBreadcrumbs aria-label='breadcrumb'>\r\n              {breadcrumbs.map(({ match, breadcrumb }: BreadcrumbsRoute, index: number) => {\r\n                const last = index === breadcrumbs.length - 1;\r\n                return last ? (\r\n                  <span className='breadcrumbs-item--last' key={match.url}>\r\n                    {breadcrumb}\r\n                  </span>\r\n                ) : (\r\n                  <span key={match.url}>\r\n                    <LinkRouter key={match.url} to={match.url}>\r\n                      {breadcrumb}\r\n                    </LinkRouter>\r\n                  </span>\r\n                );\r\n              })}\r\n            </MuiBreadcrumbs>\r\n          );\r\n        }}\r\n      </Route>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withBreadcrumbs(routeConfig)(Breadcrumbs);\r\n","import Breadcrumbs from './Breadcrumbs';\r\n\r\nexport default Breadcrumbs;\r\n","import React from 'react';\r\nimport Slider, { CustomArrowProps, Settings as SlickSettings } from 'react-slick';\r\nimport ChevronRightIcon from '@mui/icons-material/ChevronRight';\r\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\r\n\r\nconst defaultSettings = {\r\n  dots: true,\r\n  nextArrow: <NextButton />,\r\n  prevArrow: <PrevButton />,\r\n  infinite: true,\r\n  slidesToShow: 1,\r\n  slidesToScroll: 1,\r\n};\r\n\r\nfunction NextButton({ onClick }: CustomArrowProps) {\r\n  return (\r\n    <button className='slick-arrow slick-arrow--next' onClick={onClick}>\r\n      <ChevronRightIcon />\r\n    </button>\r\n  );\r\n}\r\n\r\nfunction PrevButton({ onClick }: CustomArrowProps) {\r\n  return (\r\n    <button className='slick-arrow slick-arrow--before' onClick={onClick}>\r\n      <ChevronLeftIcon />\r\n    </button>\r\n  );\r\n}\r\n\r\ntype ImageSliderProps = {\r\n  children: React.ReactNode | React.ReactNode[];\r\n  settings?: SlickSettings;\r\n  [x: string]: any;\r\n};\r\n\r\nconst ImageSlider: React.FC<ImageSliderProps> = ({ children, ...settings }) => {\r\n  return (\r\n    <Slider {...defaultSettings} {...settings}>\r\n      {children}\r\n    </Slider>\r\n  );\r\n};\r\n\r\nexport default ImageSlider;\r\n","import ImageSlider from './ImageSlider';\r\n\r\nexport default ImageSlider;\r\n","import ButtonLike from './ButtonLike';\r\n\r\nexport default ButtonLike;\r\n","import { IconButton, IconButtonProps } from '@mui/material';\r\nimport FavoriteIcon from '@mui/icons-material/Favorite';\r\nimport FavoriteBorderIcon from '@mui/icons-material/FavoriteBorder';\r\nimport React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { getIsLoggedIn } from '../../../store/users';\r\n\r\ntype ButtonFavoriteProps = IconButtonProps & {\r\n  displayCount: number;\r\n  status: boolean;\r\n  onToggle: () => void;\r\n};\r\n\r\nconst ButtonLike: React.FC<ButtonFavoriteProps> = ({ displayCount, status, onToggle }) => {\r\n  const isLoggedIn = useSelector(getIsLoggedIn());\r\n  return (\r\n    <IconButton\r\n      aria-label='like'\r\n      onClick={onToggle}\r\n      className={status ? 'like-button like-button--active' : 'like-button'}\r\n      disableRipple\r\n      disabled={!isLoggedIn}\r\n    >\r\n      <div className='like-button__wrapper'>\r\n        <span className='visually-hidden'>Количество лайков:</span>\r\n        {status ? <FavoriteIcon /> : <FavoriteBorderIcon />}\r\n        {displayCount}\r\n      </div>\r\n    </IconButton>\r\n  );\r\n};\r\n\r\nexport default ButtonLike;\r\n","import ReviewLikes from './ReviewLikes';\r\n\r\nexport default ReviewLikes;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { createLike, getLikesByReviewId, removeLike } from '../../../../store/likes';\r\nimport { getCurrentUserId } from '../../../../store/users';\r\nimport ButtonLike from '../../../common/ButtonLike';\r\n\r\ntype ReviewLikesProps = {\r\n  reviewId: string;\r\n};\r\n\r\nconst ReviewLikes: React.FC<ReviewLikesProps> = ({ reviewId }) => {\r\n  const [status, setStatus] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const currentUserId = useSelector(getCurrentUserId());\r\n  const likes = useSelector(getLikesByReviewId(reviewId));\r\n\r\n  const isLiked = likes.some(like => like.userId === currentUserId);\r\n\r\n  useEffect(() => {\r\n    if (currentUserId) {\r\n      setStatus(isLiked);\r\n    }\r\n  }, [likes, currentUserId]);\r\n\r\n  const toggleLike = () => {\r\n    const likeData = { userId: currentUserId || '', reviewId };\r\n\r\n    if (isLiked) {\r\n      dispatch(removeLike(likeData));\r\n    } else {\r\n      dispatch(createLike(likeData));\r\n    }\r\n  };\r\n\r\n  return <ButtonLike displayCount={likes.length} status={status} onToggle={toggleLike} />;\r\n};\r\n\r\nexport default ReviewLikes;\r\n","import Review from './Review';\r\n\r\nexport default Review;\r\n","import ClearIcon from '@mui/icons-material/Clear';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport { IconButton } from '@mui/material';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { removeReview, updateReview } from '../../../../store/reviews';\r\nimport { getRoomById, updateRoomData } from '../../../../store/rooms';\r\nimport { getCurrentUserData, getUserById } from '../../../../store/users';\r\nimport { ReviewType } from '../../../../types/types';\r\nimport formatDate from '../../../../utils/formatDate';\r\nimport Avatar from '../../../common/Avatar';\r\nimport Button from '../../../common/Button';\r\nimport { TextAreaField } from '../../../common/Fields';\r\nimport Loader from '../../../common/Loader';\r\nimport Rating from '../../../common/Rating';\r\nimport Tooltip from '../../../common/Tooltip';\r\nimport ReviewLikes from '../ReviewLikes';\r\n\r\ntype ReviewProps = {\r\n  review: ReviewType;\r\n};\r\n\r\nconst Review: React.FC<ReviewProps> = ({ review }) => {\r\n  const dispatch = useDispatch();\r\n  const [content, setContent] = useState<string | null>(null);\r\n  const [editMode, setEditMode] = useState(false);\r\n  const currentRoomData = useSelector(getRoomById(review.roomId));\r\n  const user = useSelector(getUserById(review.userId || ''));\r\n  const currentUser = useSelector(getCurrentUserData());\r\n\r\n  const displayReviewData = () => {\r\n    if (review.created_at !== review.updated_at) {\r\n      return `Редактирован: ${formatDate(review?.updated_at || '')}`;\r\n    }\r\n    return formatDate(review?.created_at || '');\r\n  };\r\n\r\n  const isAdmin = currentUser?.role === 'admin';\r\n  const isAuthor = review.userId === currentUser?._id;\r\n  const showDeleteBtn = isAdmin || isAuthor;\r\n\r\n  const handleChangeReview = () => {\r\n    setEditMode(false);\r\n    const payload = { _id: review._id, rating: review.rating, roomId: review.roomId, content: review.content };\r\n    dispatch(updateReview(payload));\r\n  };\r\n\r\n  const handleRemoveReview = () => {\r\n    dispatch(removeReview(review._id || ''));\r\n    const updateRoomPayload = {\r\n      _id: currentRoomData?._id || 'not found',\r\n      price: currentRoomData?.price || 0,\r\n      roomNumber: currentRoomData?.roomNumber || 'not found',\r\n      countReviews: Number(currentRoomData?.countReviews) - 1,\r\n      rate: Number(currentRoomData?.rate) - review.rating,\r\n    };\r\n    dispatch(updateRoomData(updateRoomPayload));\r\n  };\r\n\r\n  useEffect(() => {\r\n    setContent(review.content);\r\n  }, [review]);\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setContent(e.target.value);\r\n  };\r\n\r\n  if (user) {\r\n    return (\r\n      <li className='reviews-list__item'>\r\n        <div className='review'>\r\n          <div className='review__avatar'>\r\n            <div className='avatar'>\r\n              <Avatar alt='пользователя' src={user.avatarPhoto || ''} className='avatar__img' />\r\n            </div>\r\n            <ReviewLikes reviewId={review._id || ''} />\r\n          </div>\r\n          <div className='review__content'>\r\n            <div className='review__user-name'>\r\n              {`${user.firstName} ${user.secondName}`}\r\n              {isAuthor && (\r\n                <div className='review__edit-btn'>\r\n                  <Tooltip title='Редактировать'>\r\n                    <IconButton onClick={() => setEditMode(true)}>\r\n                      <EditIcon fontSize='small' />\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                </div>\r\n              )}\r\n              {showDeleteBtn && (\r\n                <div className='review__delete-btn'>\r\n                  <Tooltip title='Удалить отзыв'>\r\n                    <IconButton onClick={handleRemoveReview}>\r\n                      <ClearIcon fontSize='small' />\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                </div>\r\n              )}\r\n              <div className='review__rating'>\r\n                <Rating value={review.rating} readOnly />\r\n              </div>\r\n            </div>\r\n            <p className='review__date'>{displayReviewData()}</p>\r\n            {editMode ? (\r\n              <>\r\n                <TextAreaField value={content} onChange={handleChange} rows={3} />\r\n                <Button variant='outlined' size='small' style={{ marginTop: '5px' }} onClick={handleChangeReview}>\r\n                  Применить\r\n                </Button>\r\n              </>\r\n            ) : (\r\n              <p className='review__message'>{content}</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </li>\r\n    );\r\n  }\r\n  return <Loader />;\r\n};\r\n\r\nexport default Review;\r\n","import React from 'react';\r\nimport { ReviewType } from '../../../../types/types';\r\nimport Review from '../Review';\r\n\r\ntype ReviewsListProps = {\r\n  reviews: ReviewType[];\r\n};\r\n\r\nconst ReviewsList: React.FC<ReviewsListProps> = ({ reviews }) => {\r\n  return (\r\n    <ul className='reviews-list'>\r\n      {reviews.map(review => (\r\n        <Review key={review._id} review={review} />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ReviewsList;\r\n","import ReviewsList from './ReviewsList';\r\n\r\nexport default ReviewsList;\r\n","import Badge from './Badge';\r\n\r\nexport default Badge;\r\n","import React from 'react';\r\nimport { Badge as MuiBadge, BadgeProps as MuiBadgeProps } from '@mui/material';\r\n\r\ntype BadgeProps = MuiBadgeProps & {\r\n  className: string;\r\n};\r\n\r\nconst Badge: React.FC<BadgeProps> = ({ children, className, ...rest }) => {\r\n  return (\r\n    <MuiBadge className={className} {...rest}>\r\n      {children}\r\n    </MuiBadge>\r\n  );\r\n};\r\n\r\nexport default Badge;\r\n","import AcUnitIcon from '@mui/icons-material/AcUnit';\r\nimport ComputerIcon from '@mui/icons-material/Computer';\r\nimport WifiIcon from '@mui/icons-material/Wifi';\r\nimport React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { getReviewsByRoomId } from '../../../../store/reviews';\r\nimport declOfNum from '../../../../utils/declOfNum';\r\nimport Badge from '../../../common/Badge';\r\nimport Divider from '../../../common/Divider';\r\nimport ImageSlider from '../../../common/ImageSlider';\r\nimport Rating from '../../../common/Rating';\r\nimport { RoomType } from '../../../../types/types';\r\n\r\nconst comfortIconsMap: { [x: string]: JSX.Element } = {\r\n  hasWifi: <WifiIcon />,\r\n  hasConditioner: <AcUnitIcon />,\r\n  hasWorkSpace: <ComputerIcon />,\r\n};\r\n\r\nconst RoomCard: React.FC<RoomType> = ({ _id, roomNumber, price, type, images, comforts }) => {\r\n  const reviews = useSelector(getReviewsByRoomId(_id));\r\n  const countReviews = reviews ? reviews.length : 0;\r\n  const rating = countReviews > 0 ? reviews.reduce((acc, cur) => acc + cur.rating, 0) : 0;\r\n\r\n  return (\r\n    <div className='room-card'>\r\n      {comforts && (\r\n        <Badge className='badge'>\r\n          {comforts.map(comfort => (\r\n            <div key={comfort}>{comfortIconsMap[comfort]}</div>\r\n          ))}\r\n        </Badge>\r\n      )}\r\n      <ImageSlider className='room-card__gallery'>\r\n        {images &&\r\n          images.map(img => (\r\n            <div className='room-card__gallery-item' key={img}>\r\n              <img className='room-card__gallery-item--img' src={img} alt='roomsPhoto' />\r\n            </div>\r\n          ))}\r\n      </ImageSlider>\r\n      <Link to={`/rooms/${_id}`} className='room-card__description'>\r\n        <div className='room-card__description-row'>\r\n          <h3 className='room-card__title'>\r\n            № <span className='room-card__title--big'>{roomNumber}</span>\r\n            {type === 'Люкс' && <span className='room-card__type'>{type}</span>}\r\n          </h3>\r\n          <div className='room-card__rentPerDay'>\r\n            <span>{price}&#8381;</span> в сутки\r\n          </div>\r\n        </div>\r\n        <Divider />\r\n        <div className='room-card__description-row'>\r\n          <div className='room-card__rating'>\r\n            <Rating name='read-only' value={rating} totalCount={countReviews} readOnly />\r\n          </div>\r\n          <div className='room-card__reviews'>\r\n            <span className='room-card__reviews-count'>{`${countReviews} ${declOfNum(countReviews, [\r\n              'Отзыв',\r\n              'Отзыва',\r\n              'Отзывов',\r\n            ])}`}</span>\r\n          </div>\r\n        </div>\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RoomCard;\r\n","import RoomCard from './RoomCard';\r\n\r\nexport default RoomCard;\r\n","import React from 'react';\r\nimport RoomCard from '../RoomCard';\r\nimport { RoomType } from '../../../../types/types';\r\n\r\ntype RoomListProps = {\r\n  rooms: RoomType[];\r\n};\r\n\r\nconst RoomsList: React.FC<RoomListProps> = ({ rooms }) => {\r\n  return (\r\n    <ul className='rooms__list'>\r\n      {rooms.map(room => (\r\n        <li key={room._id} className='rooms__list-item'>\r\n          <RoomCard {...room} />\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default React.memo(RoomsList);\r\n","import { IconButton, IconButtonProps } from '@mui/material';\r\nimport React from 'react';\r\nimport Tooltip from '../Tooltip';\r\nimport StarIcon from '@mui/icons-material/Star';\r\nimport StarOutlineIcon from '@mui/icons-material/StarOutline';\r\n\r\ntype ButtonFavoriteProps = IconButtonProps & {\r\n  status: boolean;\r\n  onToggle: () => void;\r\n};\r\n\r\nconst ButtonFavorite: React.FC<ButtonFavoriteProps> = ({ status, onToggle }) => {\r\n  return (\r\n    <Tooltip title={status ? 'Удалить из избранного' : 'Добавить в избранное'}>\r\n      <IconButton className='room-page__favoriteBtn' size='large' onClick={onToggle}>\r\n        {status ? <StarIcon /> : <StarOutlineIcon />}\r\n      </IconButton>\r\n    </Tooltip>\r\n  );\r\n};\r\n\r\nexport default ButtonFavorite;\r\n","import Reviews from './Reviews';\r\n\r\nexport default Reviews;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useParams } from 'react-router';\r\nimport { getReviewsByRoomId } from '../../../../store/reviews';\r\nimport { getCurrentUserId } from '../../../../store/users';\r\nimport declOfNum from '../../../../utils/declOfNum';\r\nimport { ReviewsForm } from '../../forms';\r\nimport ReviewsList from '../ReviewsList';\r\n\r\nconst Reviews = () => {\r\n  const { roomId } = useParams<{ roomId: string }>();\r\n  const reviews = useSelector(getReviewsByRoomId(roomId));\r\n\r\n  const currentUserId = useSelector(getCurrentUserId());\r\n\r\n  const sortedReviews = reviews.sort((a, b) => String(b.created_at).localeCompare(String(a.created_at)));\r\n  const totalReviewsCount = sortedReviews.length;\r\n\r\n  return (\r\n    <>\r\n      {reviews.length > 0 && (\r\n        <section className='reviews'>\r\n          <div className='reviews-title'>\r\n            <h2 className='room-info__card-title'>Отзывы посетителей номера</h2>\r\n            <span>{`${totalReviewsCount} ${declOfNum(totalReviewsCount, ['отзыв', 'отзыва', 'отзывов'])}`}</span>\r\n          </div>\r\n          {totalReviewsCount > 0 && <ReviewsList reviews={sortedReviews} />}\r\n        </section>\r\n      )}\r\n      {currentUserId && (\r\n        <section className='reviews-form'>\r\n          <h2>Оставить отзыв</h2>\r\n          <ReviewsForm />\r\n        </section>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Reviews;\r\n","import React from 'react';\r\n\r\nconst RoomCancelCard = () => {\r\n  return (\r\n    <div className='room-info__card'>\r\n      <h3 className='room-info__card-title'>Отмена</h3>\r\n      <p>\r\n        Бесплатная отмена в течение 48 ч. После этого при отмене не позднее чем за 5 дн. до прибытия вы получите полный\r\n        возврат за вычетом сбора за услуги.\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RoomCancelCard;\r\n","import React from 'react';\r\nimport LocationCityIcon from '@mui/icons-material/LocationCity';\r\nimport MoodIcon from '@mui/icons-material/Mood';\r\nimport WhatshotIcon from '@mui/icons-material/Whatshot';\r\nimport Divider from '../../common/Divider/Divider';\r\n\r\nconst RoomInfoCard = () => {\r\n  return (\r\n    <div className='room-info__card'>\r\n      <h3 className='room-info__card-title'>Сведения о номере</h3>\r\n      <ul className='features-list'>\r\n        <li className='features-list__item'>\r\n          <div className='feature'>\r\n            <MoodIcon className='feature__icon' />\r\n            <div className='feature-content'>\r\n              <div className='feature__title'>Комфорт</div>\r\n              <div className='feature__subtitle'>Шумопоглащающие стены</div>\r\n            </div>\r\n          </div>\r\n          <Divider className='feature-separator' />\r\n        </li>\r\n        <li className='features-list__item'>\r\n          <div className='feature'>\r\n            <LocationCityIcon className='feature__icon' />\r\n            <div className='feature-content'>\r\n              <div className='feature__title'>Удобство</div>\r\n              <div className='feature__subtitle'>Окно в каждой из спален</div>\r\n            </div>\r\n          </div>\r\n          <Divider className='feature-separator' />\r\n        </li>\r\n        <li className='features-list__item'>\r\n          <div className='feature'>\r\n            <WhatshotIcon className='feature__icon' />\r\n            <div className='feature-content'>\r\n              <div className='feature__title'>Уют</div>\r\n              <div className='feature__subtitle'>Номер оснащен камином</div>\r\n            </div>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RoomInfoCard;\r\n","import React from 'react';\r\nimport Rating from '../../common/Rating';\r\n\r\ntype RoomReviewsCardProps = {\r\n  countReviews?: number;\r\n  rate?: number;\r\n};\r\n\r\nconst RoomReviewsCard: React.FC<RoomReviewsCardProps> = ({ countReviews = 0, rate = 0 }) => {\r\n  const ratingValue = +(rate / countReviews).toFixed(2);\r\n\r\n  return (\r\n    <div className='room-info__card'>\r\n      <h3 className='room-info__card-title'>Впечатления от номера</h3>\r\n      {countReviews > 0 ? (\r\n        <>\r\n          <p className='room-info__card-rating__title'>\r\n            Общая оценка: <span>{ratingValue} из 5</span>\r\n          </p>\r\n          <Rating value={ratingValue} name='rating' precision={0.1} readOnly size='large' />\r\n        </>\r\n      ) : (\r\n        <>\r\n          <h3>Еще нет отзывов</h3>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RoomReviewsCard;\r\n","import React from 'react';\r\n\r\nconst RoomRulesCard = () => {\r\n  return (\r\n    <div className='room-info__card'>\r\n      <h3 className='room-info__card-title'>Правила</h3>\r\n      <ul className='bullet-list'>\r\n        <li className='bullet-list__item'>Нельзя с питомцами</li>\r\n        <li className='bullet-list__item'>Без вечеринок и мероприятий</li>\r\n        <li className='bullet-list__item'>Время прибытия — после 13:00, а выезд до 12:00</li>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RoomRulesCard;\r\n","import RoomPage from './RoomPage';\r\n\r\nexport default RoomPage;\r\n","import { Paper } from '@mui/material';\r\nimport React, { useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport localStorageService from '../../../services/localStorage.service';\r\nimport { getRoomById } from '../../../store/rooms';\r\nimport ButtonFavorite from '../../common/ButtonFavorite/ButtonFavorite';\r\nimport ImageSlider from '../../common/ImageSlider';\r\nimport Loader from '../../common/Loader';\r\nimport { BookingForm } from '../../ui/forms';\r\nimport Reviews from '../../ui/reviews/Reviews';\r\nimport RoomCancelCard from '../../ui/RoomPageCards/RoomCancelCard';\r\nimport RoomInfoCard from '../../ui/RoomPageCards/RoomInfoCard';\r\nimport RoomReviewsCard from '../../ui/RoomPageCards/RoomReviewsCard';\r\nimport RoomRulesCard from '../../ui/RoomPageCards/RoomRulesCard';\r\n\r\ntype RoomPageProps = {\r\n  roomId: string;\r\n};\r\n\r\nconst RoomPage: React.FC<RoomPageProps> = ({ roomId }) => {\r\n  const room = useSelector(getRoomById(roomId));\r\n  const isFavorite = localStorageService.getFavoritesRoom()\r\n    ? localStorageService.getFavoritesRoom()!.includes(roomId)\r\n    : false;\r\n  const [status, setStatus] = useState(isFavorite || false);\r\n\r\n  const handleToggleFavorite = (roomId: string) => {\r\n    localStorageService.toggleFavoriteRoom(roomId);\r\n    setStatus(prevState => !prevState);\r\n  };\r\n\r\n  if (room) {\r\n    const { roomNumber, images, type, price, countReviews, rate } = room;\r\n    return (\r\n      <main>\r\n        <div className='room-page__gallery-wrapper'>\r\n          <ImageSlider className='room-page__gallery'>\r\n            {images &&\r\n              images.map((img: string) => (\r\n                <img key={img} className='room-page__gallery-item--img' src={img} alt='roomsPhoto' />\r\n              ))}\r\n          </ImageSlider>\r\n        </div>\r\n        <div className='room-info'>\r\n          <div className='room-info__column'>\r\n            <div className='room-info__group'>\r\n              <RoomInfoCard />\r\n              <RoomReviewsCard countReviews={countReviews} rate={rate} />\r\n            </div>\r\n            <Reviews />\r\n            <div className='room-info__group'>\r\n              <RoomRulesCard />\r\n              <RoomCancelCard />\r\n            </div>\r\n          </div>\r\n          <div className='room-info__form'>\r\n            <Paper elevation={3} className='form-card booking-form__card'>\r\n              <div style={{ display: 'flex' }}>\r\n                <ButtonFavorite status={status} onToggle={() => handleToggleFavorite(roomId)} />\r\n              </div>\r\n              <div className='booking-form__header'>\r\n                <div className='booking-form__numberRoom'>\r\n                  <span className='booking-form__numberRoom-text'>№ {roomNumber}</span>\r\n                  {type && <span className='booking-form__numberRoom-type'>{type}</span>}\r\n                </div>\r\n                <div className='booking-form__cost'>\r\n                  <span>{price}&#8381;</span> в сутки\r\n                </div>\r\n              </div>\r\n\r\n              <BookingForm />\r\n            </Paper>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    );\r\n  }\r\n  return <Loader />;\r\n};\r\n\r\nexport default RoomPage;\r\n","import { useEffect, useState } from 'react';\r\nimport useDebounce from './useDebounce';\r\n\r\nexport default function useSearch<T>(data: Array<T>, config: { searchBy: string }) {\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [filteredData, setData] = useState(data || []);\r\n  const [isSearching, setIsSearching] = useState(false);\r\n\r\n  const handleChangeSearch = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setSearchTerm(e.target.value);\r\n  };\r\n\r\n  const debouncedSearchTerm = useDebounce(searchTerm, 500);\r\n\r\n  useEffect(() => {\r\n    if (debouncedSearchTerm) {\r\n      setIsSearching(true);\r\n      const dataFiltered = data.filter((item: any) =>\r\n        item[config.searchBy].toString().toLowerCase().includes(debouncedSearchTerm.toLowerCase())\r\n      );\r\n      setData(dataFiltered);\r\n      setIsSearching(false);\r\n    } else {\r\n      setData(data);\r\n      setIsSearching(false);\r\n    }\r\n  }, [debouncedSearchTerm, data]);\r\n\r\n  return { filteredData, isSearching, searchTerm, setSearchTerm, handleChangeSearch };\r\n}\r\n","import { useEffect, useState } from 'react';\r\n\r\nexport default function useDebounce<T>(value: T, delay?: number): T {\r\n  const [debouncedValue, setDebouncedValue] = useState<T>(value);\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      setDebouncedValue(value);\r\n    }, delay || 500);\r\n    return () => {\r\n      clearTimeout(timer);\r\n    };\r\n  }, [value, delay]);\r\n  return debouncedValue;\r\n}\r\n","import Pagination from './Pagination';\r\n\r\nexport default Pagination;\r\n","import { Pagination as MuiPagination, PaginationProps as MuiPaginationProps } from '@mui/material';\r\nimport React from 'react';\r\n\r\ntype PaginationProps = MuiPaginationProps & {\r\n  items: any[];\r\n  pageSize: number;\r\n  currentPage: number;\r\n};\r\n\r\nconst Pagination: React.FC<PaginationProps> = ({ items, pageSize, currentPage, onChange, ...rest }) => {\r\n  const itemsCount = items.length;\r\n  const pagesCount = Math.ceil(itemsCount / pageSize);\r\n  if (pagesCount === 1 || itemsCount === 0) return null;\r\n\r\n  return (\r\n    <div className='pagination'>\r\n      <MuiPagination\r\n        count={pagesCount}\r\n        onChange={onChange}\r\n        page={currentPage}\r\n        defaultPage={0}\r\n        size='large'\r\n        variant='outlined'\r\n        {...rest}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pagination;\r\n","import Searchbar from './Searchbar';\r\n\r\nexport default Searchbar;\r\n","import React from 'react';\r\nimport { InputField } from '../Fields';\r\n\r\ntype SearchbarProps = {\r\n  value: string;\r\n  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\r\n};\r\n\r\nconst Searchbar: React.FC<SearchbarProps> = ({ value, onChange }) => {\r\n  return (\r\n    <InputField\r\n      name='searchbar'\r\n      label='Поиск'\r\n      placeholder='Поиск по номеру...'\r\n      value={value}\r\n      onChange={onChange}\r\n      style={{ flex: '1' }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Searchbar;\r\n","import RoomsDisplayCount from './RoomsDisplayCount';\r\n\r\nexport default RoomsDisplayCount;\r\n","import { SelectProps as MuiSelectProps } from '@mui/material';\r\nimport React from 'react';\r\nimport { SelectField } from '../../../common/Fields';\r\nimport { OptionsItemType } from '../../../common/Fields/SelectField/SelectField';\r\n\r\ntype RoomsDisplayCountProps = MuiSelectProps & {\r\n  count: number;\r\n  setCount: (e: any) => void;\r\n  options: OptionsItemType[];\r\n};\r\n\r\nconst RoomsDisplayCount: React.FC<RoomsDisplayCountProps> = ({ count, setCount, options }) => {\r\n  return (\r\n    <SelectField\r\n      style={{ minWidth: '140px' }}\r\n      name='pageSize'\r\n      autoWidth={true}\r\n      label='Отображать по'\r\n      value={String(count)}\r\n      onChange={e => setCount(e)}\r\n      options={options}\r\n    />\r\n  );\r\n};\r\n\r\nexport default RoomsDisplayCount;\r\n","import React from 'react';\r\n\r\ntype RoomsFiltersItemProps = {\r\n  title?: string;\r\n  children: React.ReactNode;\r\n};\r\n\r\nconst RoomsFiltersItem: React.FC<RoomsFiltersItemProps> = ({ title, children }) => {\r\n  return (\r\n    <div className='filters__item'>\r\n      <fieldset className='filters__group'>\r\n        {title && <legend className='filters__group-title'>{title}</legend>}\r\n        {children}\r\n      </fieldset>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(RoomsFiltersItem);\r\n","import RoomsFiltersItem from './RoomsFiltersItem';\r\n\r\nexport default RoomsFiltersItem;\r\n","import React, { PropsWithChildren, ReactElement } from 'react';\r\nimport RoomsFilterItem from '../RoomsFiltersItem';\r\n\r\ntype RoomsFiltersListProps = {\r\n  handleChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\r\n  data: { [key: string]: any };\r\n  children: React.ReactNode;\r\n};\r\n\r\ntype FilterItemProps = {\r\n  name: string;\r\n  title?: string;\r\n  data?: {\r\n    [key: string]: any;\r\n  };\r\n  value?: string;\r\n  error?: string;\r\n  type?: string;\r\n  props?: {\r\n    [key: string]: any;\r\n  };\r\n  onChange?: (e: React.ChangeEvent<HTMLInputElement>) => void;\r\n  onKeyDown?: (e: React.ChangeEvent<HTMLInputElement>) => void;\r\n};\r\n\r\nconst RoomsFiltersList: React.FC<RoomsFiltersListProps> = ({ handleChange, data, children }) => {\r\n  const clonedElements = React.Children.map(children, child => {\r\n    const item = child as ReactElement<PropsWithChildren<FilterItemProps>>;\r\n    const childType = typeof item;\r\n    let config = {};\r\n    if (\r\n      childType === 'object' ||\r\n      (childType === 'function' && item.props.type !== 'submit' && item.props.type !== 'button')\r\n    ) {\r\n      config = {\r\n        ...item.props,\r\n        data,\r\n        onChange: handleChange,\r\n        value: data[item.props.name],\r\n      };\r\n    }\r\n\r\n    return <RoomsFilterItem title={item.props.title}>{React.cloneElement(item, config)}</RoomsFilterItem>;\r\n  });\r\n\r\n  return <form className='filters__form'>{clonedElements}</form>;\r\n};\r\n\r\nexport default React.memo(RoomsFiltersList);\r\n","import React, { useCallback } from 'react';\r\nimport { useFiltersQuery } from '../../../../hooks';\r\nimport Button from '../../../common/Button';\r\nimport { Checkbox, CheckBoxList, DateOfStayField, RangeSliderField } from '../../../common/Fields';\r\nimport GuestsCounter from '../../GuestsCounter/GuestsCounter';\r\nimport RoomsFilterList from './RoomsFiltersList/RoomsFiltersList';\r\n\r\nconst oneDayMs = 86000000;\r\n\r\nconst initialState = {\r\n  arrivalDate: Date.now(),\r\n  departureDate: Date.now() + oneDayMs,\r\n  adults: 1,\r\n  children: 0,\r\n  babies: 0,\r\n  price: [0, 15000],\r\n  canSmoke: false,\r\n  canPets: false,\r\n  canInvite: false,\r\n  hasWideCorridor: false,\r\n  hasDisabledAssistant: false,\r\n  hasWifi: false,\r\n  hasConditioner: false,\r\n  hasWorkSpace: false,\r\n};\r\n\r\ntype RoomsFilterProps = {\r\n  onReset: () => void;\r\n};\r\n\r\nconst RoomsFilter: React.FC<RoomsFilterProps> = ({ onReset }) => {\r\n  const { searchFilters, handleChangeFilter, handleResetSearchFilters } = useFiltersQuery();\r\n\r\n  const handleResetFilters = useCallback(\r\n    e => {\r\n      e.preventDefault();\r\n      handleResetSearchFilters();\r\n      onReset();\r\n    },\r\n    [handleResetSearchFilters, onReset]\r\n  );\r\n\r\n  const data = { ...initialState, ...searchFilters };\r\n\r\n  return (\r\n    <section className='filters__wrapper'>\r\n      <h2 className='visually-hidden'>Поиск номеров в отеле toxin</h2>\r\n      <RoomsFilterList data={data} handleChange={handleChangeFilter}>\r\n        <DateOfStayField data={data} onChange={handleChangeFilter} title='Дата пребывания в отеле' />\r\n        <GuestsCounter data={data} onChange={handleChangeFilter} />\r\n        <RangeSliderField\r\n          label='Диапазон цены'\r\n          description='Стоимость за сутки пребывания в номере'\r\n          name='price'\r\n          onChange={handleChangeFilter}\r\n          min={0}\r\n          max={15000}\r\n        />\r\n        <CheckBoxList title='Удобства'>\r\n          <Checkbox label='Wi-Fi' name='hasWifi' />\r\n          <Checkbox label='Кондиционер' name='hasConditioner' />\r\n          <Checkbox label='Рабочее место' name='hasWorkSpace' />\r\n        </CheckBoxList>\r\n        <CheckBoxList title='Условия размещения'>\r\n          <Checkbox label='Можно c питомцами' name='canPets' />\r\n          <Checkbox label='Можно курить' name='canSmoke' />\r\n          <Checkbox label='Можно пригласить гостей (до 10 человек)' name='canInvite' />\r\n        </CheckBoxList>\r\n        <CheckBoxList title='Доступность'>\r\n          <Checkbox\r\n            label='Широкий коридор'\r\n            name='hasWideCorridor'\r\n            labelDetails='Ширина коридоров в номере не менее 91см'\r\n          />\r\n          <Checkbox\r\n            label='Помощник для инвалидов'\r\n            name='hasDisabledAssistant'\r\n            labelDetails='На 1 этаже вас встретит специалист и проводит до номера'\r\n          />\r\n        </CheckBoxList>\r\n        <Button type='button' onClick={handleResetFilters} fullWidth>\r\n          Сбросить Фильтры\r\n        </Button>\r\n      </RoomsFilterList>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default React.memo(RoomsFilter);\r\n","import RoomsFilters from './RoomsFilters';\r\n\r\nexport default RoomsFilters;\r\n","import RoomsList from './RoomsList';\r\n\r\nexport default RoomsList;\r\n","import React from 'react';\r\nimport Skeleton from '@mui/material/Skeleton';\r\nimport Divider from '../../../common/Divider';\r\n\r\nconst RoomCardSkeleton = () => {\r\n  return (\r\n    <div className='room-card__skeleton'>\r\n      <Skeleton variant='rectangular' animation='wave' height={150} />\r\n      <Skeleton variant='text' animation='wave' height={50} />\r\n      <Divider />\r\n      <Skeleton variant='text' animation='wave' height={50} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RoomCardSkeleton;\r\n","import React from 'react';\r\nimport RoomCardSkeleton from '../RoomCard/RoomCardSkeleton';\r\n\r\nconst RoomsListSkeleton = ({ pageSize }: { pageSize: number }) => {\r\n  const roomsSkeletonArray = Array(pageSize).fill('');\r\n  return (\r\n    <ul className='rooms__list'>\r\n      {roomsSkeletonArray.map((_, idx) => (\r\n        <li key={idx} className='rooms__list-item'>\r\n          <RoomCardSkeleton />\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default RoomsListSkeleton;\r\n","import React from 'react';\r\nimport { SelectField } from '../../../common/Fields';\r\n\r\nconst roomsSortArray = [\r\n  { name: 'По убыванию', value: { path: 'roomNumber', order: 'desc' } },\r\n  { name: 'По возрастанию', value: { path: 'roomNumber', order: 'asc' } },\r\n  { name: 'Популярное', value: { path: 'countReviews', order: 'desc' } },\r\n  { name: 'Высокий рейтинг', value: { path: 'rate', order: 'desc' } },\r\n  { name: 'Сначала дешёвые', value: { path: 'price', order: 'asc' } },\r\n  { name: 'Сначала дорогие', value: { path: 'price', order: 'desc' } },\r\n];\r\n\r\ntype RoomsSortProps = {\r\n  sortBy: { path: string; order: 'asc' | 'desc' };\r\n  onSort: (event: any) => void;\r\n};\r\n\r\nconst RoomsSort: React.FC<RoomsSortProps> = ({ sortBy, onSort }) => {\r\n  return (\r\n    <SelectField\r\n      name='roomSort'\r\n      style={{ minWidth: '200px' }}\r\n      label='Сортировать'\r\n      value={JSON.stringify(sortBy)}\r\n      onChange={onSort}\r\n      options={roomsSortArray}\r\n    />\r\n  );\r\n};\r\n\r\nexport default RoomsSort;\r\n","import RoomsSort from './RoomsSort';\r\n\r\nexport default RoomsSort;\r\n","import React, { useCallback, useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useFiltersQuery, usePagination, useSort } from '../../../hooks';\r\nimport useSearch from '../../../hooks/useSearch';\r\nimport { setSessionStorageData } from '../../../services/sessionStorage.service';\r\nimport { useAppDispatch } from '../../../store/createStore';\r\nimport { getFilteredRooms, getRoomsLoadingStatus, loadFilteredRoomsList } from '../../../store/rooms';\r\nimport Pagination from '../../common/Pagination';\r\nimport Searchbar from '../../common/Searchbar';\r\nimport RoomsDisplayCount from '../../ui/rooms/RoomsDisplayCount';\r\nimport RoomsFilter from '../../ui/rooms/RoomsFilters';\r\nimport RoomsList from '../../ui/rooms/RoomsList';\r\nimport RoomsListSkeleton from '../../ui/rooms/RoomsList/RoomsListSkeleton';\r\nimport RoomsSort from '../../ui/rooms/RoomsSort';\r\n\r\nconst setPageSizeOptions = [\r\n  { name: '6', value: 6 },\r\n  { name: '12', value: 12 },\r\n  { name: '18', value: 18 },\r\n  { name: '24', value: 24 },\r\n];\r\n\r\nconst RoomsPage = () => {\r\n  const rooms = useSelector(getFilteredRooms());\r\n  const dispatch = useAppDispatch();\r\n  const roomsIsLoading = useSelector(getRoomsLoadingStatus());\r\n  const { searchFilters, handleResetSearchFilters } = useFiltersQuery();\r\n  const { filteredData, searchTerm, setSearchTerm, handleChangeSearch } = useSearch(rooms, {\r\n    searchBy: 'roomNumber',\r\n  });\r\n  const { sortedItems, sortBy, setSortBy } = useSort(filteredData || [], { path: 'roomNumber', order: 'desc' });\r\n  const {\r\n    itemsListCrop: roomsListCrop,\r\n    currentPage,\r\n    pageSize,\r\n    handleChangePage,\r\n    handleChangePageSize,\r\n  } = usePagination(sortedItems || [], setPageSizeOptions[1].value);\r\n\r\n  const handleSort = useCallback(\r\n    (event: React.ChangeEvent<HTMLInputElement>) => {\r\n      setSortBy(JSON.parse(event.target.value));\r\n      handleChangePage(event, 1);\r\n    },\r\n    [handleChangePage, setSortBy]\r\n  );\r\n\r\n  const handleResetFilters = useCallback(() => {\r\n    handleResetSearchFilters();\r\n    setSearchTerm('');\r\n    setSortBy({ path: 'roomNumber', order: 'desc' });\r\n    handleChangePageSize({ target: setPageSizeOptions[1] });\r\n  }, [handleChangePageSize, handleResetSearchFilters]);\r\n\r\n  useEffect(() => {\r\n    const oneDayMs = 86_000_000;\r\n    const initialSearchFilters = {\r\n      arrivalDate: Date.now(),\r\n      departureDate: Date.now() + oneDayMs,\r\n    };\r\n\r\n    setSessionStorageData(searchFilters);\r\n    dispatch(loadFilteredRoomsList({ ...initialSearchFilters, ...searchFilters }));\r\n  }, [searchFilters]);\r\n\r\n  return (\r\n    <main className='rooms-page'>\r\n      <aside className='rooms-page__filters'>\r\n        <RoomsFilter onReset={handleResetFilters} />\r\n      </aside>\r\n      <section className='rooms-page__rooms'>\r\n        <div className='rooms-page__sorting'>\r\n          <Searchbar value={searchTerm} onChange={handleChangeSearch} />\r\n          <RoomsSort sortBy={sortBy} onSort={handleSort} />\r\n          <RoomsDisplayCount count={pageSize} setCount={handleChangePageSize} options={setPageSizeOptions} />\r\n        </div>\r\n        <h2 className='rooms__title'>Номера, которые мы для вас подобрали</h2>\r\n        {roomsIsLoading ? <RoomsListSkeleton pageSize={pageSize} /> : <RoomsList rooms={roomsListCrop} />}\r\n        {roomsListCrop.length === 0 && <h2>Мы не нашли для вас подходящих номеров по вашим параметрам &#128577;</h2>}\r\n\r\n        {sortedItems.length > pageSize && (\r\n          <div className='rooms-page__pagination'>\r\n            <Pagination items={sortedItems} pageSize={pageSize} currentPage={currentPage} onChange={handleChangePage} />\r\n            <p className='rooms-page__pagination-info'>\r\n              {`${(currentPage - 1) * pageSize || 1} - \r\n              ${pageSize * currentPage > rooms.length ? rooms.length : pageSize * currentPage}\r\n              из ${rooms.length} вариантов аренды`}\r\n            </p>\r\n          </div>\r\n        )}\r\n      </section>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default RoomsPage;\r\n","import RoomsPage from './RoomsPage';\r\n\r\nexport default RoomsPage;\r\n","import React from 'react';\r\nimport { useParams } from 'react-router';\r\nimport Breadcrumbs from '../components/common/Breadcrumbs';\r\nimport Container from '../components/common/Container';\r\nimport Footer from '../components/common/Footer';\r\nimport Header from '../components/common/Header';\r\nimport RoomPage from '../components/pages/RoomPage';\r\nimport RoomsPage from '../components/pages/RoomsPage';\r\n\r\nconst Rooms: React.FC = () => {\r\n  const { roomId } = useParams<{ roomId?: string }>();\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Container>\r\n        <Breadcrumbs />\r\n        {roomId ? <RoomPage roomId={roomId} /> : <RoomsPage />}\r\n      </Container>\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Rooms;\r\n"],"names":["routeConfig","path","breadcrumb","props","room","useSelector","getRoomById","match","params","roomId","roomNumber","user","getUserById","userId","firstName","secondName","breadcrumbText","route","LinkRouter","Link","className","underline","component","RouterLink","withBreadcrumbs","breadcrumbs","map","index","length","url","to","defaultSettings","dots","nextArrow","NextButton","prevArrow","PrevButton","infinite","slidesToShow","slidesToScroll","onClick","ChevronRight","ChevronLeft","children","settings","displayCount","status","onToggle","isLoggedIn","getIsLoggedIn","IconButton","disableRipple","disabled","Favorite","FavoriteBorder","reviewId","useState","setStatus","dispatch","useDispatch","currentUserId","getCurrentUserId","likes","getLikesByReviewId","isLiked","some","like","useEffect","likeData","removeLike","createLike","review","content","setContent","editMode","setEditMode","currentRoomData","currentUser","getCurrentUserData","isAdmin","role","isAuthor","_id","showDeleteBtn","Avatar","alt","src","avatarPhoto","Tooltip","title","Edit","fontSize","removeReview","updateRoomPayload","price","countReviews","Number","rate","rating","updateRoomData","Clear","Rating","value","readOnly","created_at","updated_at","formatDate","onChange","e","target","rows","Button","variant","size","style","marginTop","payload","updateReview","Loader","reviews","rest","comfortIconsMap","hasWifi","Wifi","hasConditioner","AcUnit","hasWorkSpace","Computer","type","images","comforts","getReviewsByRoomId","reduce","acc","cur","comfort","ImageSlider","img","Divider","name","totalCount","declOfNum","RoomsList","rooms","React","Star","StarOutline","useParams","sortedReviews","sort","a","b","String","localeCompare","totalReviewsCount","ReviewsList","Mood","LocationCity","Whatshot","ratingValue","toFixed","precision","isFavorite","localStorageService","includes","Paper","elevation","display","prevState","handleToggleFavorite","useSearch","data","config","searchTerm","setSearchTerm","filteredData","setData","isSearching","setIsSearching","debouncedSearchTerm","delay","debouncedValue","setDebouncedValue","timer","setTimeout","clearTimeout","useDebounce","dataFiltered","filter","item","searchBy","toString","toLowerCase","handleChangeSearch","items","pageSize","currentPage","itemsCount","pagesCount","Math","ceil","count","page","defaultPage","label","placeholder","flex","setCount","options","minWidth","autoWidth","RoomsFiltersItem","RoomsFiltersList","handleChange","clonedElements","child","childType","initialState","arrivalDate","Date","now","departureDate","adults","babies","canSmoke","canPets","canInvite","hasWideCorridor","hasDisabledAssistant","RoomsFilter","onReset","useFiltersQuery","searchFilters","handleChangeFilter","handleResetSearchFilters","handleResetFilters","useCallback","preventDefault","GuestsCounter","description","min","max","labelDetails","fullWidth","Skeleton","animation","height","roomsSkeletonArray","Array","fill","_","idx","roomsSortArray","order","sortBy","onSort","JSON","stringify","setPageSizeOptions","getFilteredRooms","useAppDispatch","roomsIsLoading","getRoomsLoadingStatus","useSort","sortedItems","setSortBy","usePagination","roomsListCrop","itemsListCrop","handleChangePage","handleChangePageSize","handleSort","event","parse","initialSearchFilters","setSessionStorageData","loadFilteredRoomsList","Header","Container","Breadcrumbs","Footer"],"sourceRoot":""}